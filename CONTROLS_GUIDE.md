# è‡ªå®šä¹‰æ§åˆ¶å¸ƒå±€ç³»ç»Ÿä½¿ç”¨æŒ‡å—

## ğŸ“– ç®€ä»‹

Rotating Art Launcher æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„è™šæ‹Ÿæ§åˆ¶å™¨ç³»ç»Ÿï¼Œå‚è€ƒ PojavLauncher çš„è®¾è®¡ç†å¿µï¼Œè®©ä½ å¯ä»¥åœ¨ Android è®¾å¤‡ä¸Šæµç•…åœ°ç© FNA/XNA æ¸¸æˆã€‚

## ğŸ® æ§åˆ¶å…ƒç´ ç±»å‹

### 1. BUTTON (æ™®é€šæŒ‰é’®)
- ç”¨é€”ï¼šè§¦å‘å•ä¸ªæŒ‰é”®æˆ–é¼ æ ‡ç‚¹å‡»
- æ”¯æŒï¼šé”®ä½ç»‘å®šã€è¿æŒ‰ã€Toggle æ¨¡å¼
- ç¤ºä¾‹ï¼šè·³è·ƒã€æ”»å‡»ã€ç¡®è®¤

### 2. JOYSTICK (è™šæ‹Ÿæ‘‡æ†)
- ç”¨é€”ï¼šæ¨¡æ‹Ÿæ¸¸æˆæ‰‹æŸ„æ‘‡æ†
- æ”¯æŒï¼šæ­»åŒºè®¾ç½®ã€çµæ•åº¦è°ƒèŠ‚ã€æ–¹å‘é”å®š
- ç¤ºä¾‹ï¼šè§’è‰²ç§»åŠ¨ã€è§†è§’æ§åˆ¶

### 3. CROSS_KEY (åå­—é”®)
- ç”¨é€”ï¼šæ–¹å‘æ§åˆ¶ï¼Œå››ä¸ªç‹¬ç«‹æŒ‰é”®ç»„åˆ
- æ”¯æŒï¼šä¸Šä¸‹å·¦å³é”®ä½ç»‘å®š
- ç¤ºä¾‹ï¼šStardew Valley ç§»åŠ¨

### 4. TRIGGER_BUTTON (æ‰³æœºé”®)
- ç”¨é€”ï¼šL/R æ‰³æœºæŒ‰é”®
- æ”¯æŒï¼šæ¨¡æ‹Ÿæ¸¸æˆæ‰‹æŸ„æ‰³æœº
- ç¤ºä¾‹ï¼šç„å‡†ã€åŠ é€Ÿ

### 5. TOUCHPAD (è§¦æ‘¸æ¿)
- ç”¨é€”ï¼šæ¨¡æ‹Ÿé¼ æ ‡æ»šè½®/è§¦æ‘¸æ¿
- æ”¯æŒï¼šçµæ•åº¦ã€åè½¬è½´å‘
- ç¤ºä¾‹ï¼šåœ°å›¾ç¼©æ”¾ã€èœå•æ»šåŠ¨

### 6. MOUSE_AREA (é¼ æ ‡åŒºåŸŸ)
- ç”¨é€”ï¼šæ¨¡æ‹Ÿé¼ æ ‡ç§»åŠ¨
- æ”¯æŒï¼šç›¸å¯¹ç§»åŠ¨ã€ç»å¯¹å®šä½
- ç¤ºä¾‹ï¼šç¬¬ä¸€äººç§°è§†è§’æ§åˆ¶

### 7. MACRO_BUTTON (å®æŒ‰é’®)
- ç”¨é€”ï¼šæ‰§è¡Œä¸€ç³»åˆ—æŒ‰é”®åºåˆ—
- æ”¯æŒï¼šè‡ªå®šä¹‰å®è„šæœ¬
- ç¤ºä¾‹ï¼šæŠ€èƒ½è¿æ‹›ã€å¿«é€Ÿå»ºé€ 

### 8. GROUP (å…ƒç´ ç»„)
- ç”¨é€”ï¼šå°†å¤šä¸ªæ§åˆ¶å…ƒç´ ç»„åˆåœ¨ä¸€èµ·
- æ”¯æŒï¼šç»Ÿä¸€æ˜¾ç¤º/éšè—ã€æ‰¹é‡æ“ä½œ

## ğŸ› ï¸ æ§åˆ¶å±æ€§

### ä½ç½®å’Œå¤§å°
- **x, y**: ç›¸å¯¹ä½ç½® (0-1)
- **width, height**: åƒç´ å¤§å°
- **rotation**: æ—‹è½¬è§’åº¦
- **cornerRadius**: åœ†è§’åŠå¾„

### å¤–è§‚è®¾ç½®
- **backgroundColor**: èƒŒæ™¯é¢œè‰²
- **pressedColor**: æŒ‰ä¸‹æ—¶é¢œè‰²
- **borderColor**: è¾¹æ¡†é¢œè‰²
- **textColor**: æ–‡å­—é¢œè‰²
- **opacity**: ä¸é€æ˜åº¦ (0-1)
- **textSize**: æ–‡å­—å¤§å°

### è¡Œä¸ºè®¾ç½®
- **toggle**: Toggle æ¨¡å¼ï¼ˆæŒ‰ä¸€æ¬¡ä¿æŒï¼Œå†æŒ‰é‡Šæ”¾ï¼‰
- **passthrough**: ç©¿é€æ¨¡å¼ï¼ˆä¸æ‹¦æˆªè§¦æ‘¸äº‹ä»¶ï¼‰
- **swipeClick**: æ»‘åŠ¨ç‚¹å‡»
- **repeatEnabled**: å¯ç”¨è¿æŒ‰
- **repeatDelay**: è¿æŒ‰å»¶è¿Ÿ (ms)

### æ˜¾ç¤ºè®¾ç½®
- **visibility**: å¯è§æ€§
  - `ALWAYS`: å§‹ç»ˆæ˜¾ç¤º
  - `IN_GAME`: ä»…æ¸¸æˆä¸­
  - `IN_MENU`: ä»…èœå•ä¸­
  - `HIDDEN`: éšè—

### æ‘‡æ†ç‰¹æœ‰
- **deadzone**: æ­»åŒº (0-1)
- **sensitivity**: çµæ•åº¦
- **lockDirection**: é”å®šæ–¹å‘ï¼ˆ4/8æ–¹å‘ï¼‰

### è§¦æ‘¸æ¿ç‰¹æœ‰
- **scrollSensitivity**: æ»šåŠ¨çµæ•åº¦
- **invertX**: X è½´åè½¬
- **invertY**: Y è½´åè½¬

## ğŸ“¦ é¢„è®¾å¸ƒå±€

### 1. tModLoader é»˜è®¤
```
ç‰¹ç‚¹ï¼š
- å·¦ä¾§æ‘‡æ†æ§åˆ¶ç§»åŠ¨
- å±å¹•ä¸­å¤®è§¦æ‘¸æ¿æ§åˆ¶è§†è§’
- å³ä¾§æŒ‰é’®ç»„ï¼šè·³è·ƒã€é’©çˆªã€æ²»ç–—
- é¡¶éƒ¨æ”»å‡»æŒ‰é’®
- åº•éƒ¨å¿«æ·æ  (1-5)

é€‚åˆï¼šæ¨ªæ¿åŠ¨ä½œæ¸¸æˆã€Terraria
```

### 2. Stardew Valley
```
ç‰¹ç‚¹ï¼š
- å·¦ä¾§åå­—é”®æ§åˆ¶ç§»åŠ¨
- å³ä¾§ A/B/X/Y æŒ‰é’®å¸ƒå±€
- é¡¶éƒ¨åœ°å›¾æŒ‰é’®

é€‚åˆï¼šåƒç´ é£ RPGã€å†œåœºæ¨¡æ‹Ÿæ¸¸æˆ
```

### 3. é€šç”¨ FNA æ¸¸æˆ
```
ç‰¹ç‚¹ï¼š
- åŒæ‘‡æ†å¸ƒå±€ï¼ˆç§»åŠ¨+è§†è§’ï¼‰
- Xbox é£æ ¼æŒ‰é’®å¸ƒå±€ (A/B/X/Y)
- L/R æ‰³æœºæŒ‰é’®

é€‚åˆï¼šå¤§å¤šæ•° 3D æ¸¸æˆã€ç¬¬ä¸‰äººç§°æ¸¸æˆ
```

## ğŸ¨ åˆ›å»ºè‡ªå®šä¹‰å¸ƒå±€

### æ–¹æ³• 1ï¼šä½¿ç”¨ç¼–è¾‘å™¨

1. æ‰“å¼€**æ§åˆ¶å¸ƒå±€ç®¡ç†å™¨**
2. ç‚¹å‡»**æ–°å»ºå¸ƒå±€**
3. è¾“å…¥å¸ƒå±€åç§°å’Œæè¿°
4. è¿›å…¥**ç¼–è¾‘æ¨¡å¼**
5. ä»**ç»„ä»¶åº“**æ‹–æ‹½æ§ä»¶åˆ°å±å¹•
6. é•¿æŒ‰æ§ä»¶è¿›å…¥**å±æ€§ç¼–è¾‘**
7. ä¿å­˜å¸ƒå±€

### æ–¹æ³• 2ï¼šå¤åˆ¶ç°æœ‰å¸ƒå±€

1. é€‰æ‹©ä¸€ä¸ªé¢„è®¾å¸ƒå±€
2. ç‚¹å‡»**å¤åˆ¶**
3. ä¿®æ”¹å‰¯æœ¬
4. ä¿å­˜ä¸ºæ–°å¸ƒå±€

### æ–¹æ³• 3ï¼šå¯¼å…¥å¸ƒå±€æ–‡ä»¶

1. è·å– `.json` å¸ƒå±€æ–‡ä»¶
2. æ‰“å¼€**å¸ƒå±€ç®¡ç†å™¨**
3. ç‚¹å‡»**å¯¼å…¥**
4. é€‰æ‹©æ–‡ä»¶

## ğŸ’¡ å¸ƒå±€è®¾è®¡å»ºè®®

### æ‘‡æ†ä½ç½®
- **å·¦æ‘‡æ†**ï¼šæ¨èæ”¾åœ¨å·¦ä¸‹è§’ (0.05-0.15, 0.55-0.65)
- **å³æ‘‡æ†**ï¼šæ¨èæ”¾åœ¨å³ä¸‹è§’ (0.70-0.80, 0.55-0.65)

### æŒ‰é’®å¤§å°
- **ä¸»è¦æŒ‰é’®** (å¦‚è·³è·ƒ)ï¼š80-100px
- **æ¬¡è¦æŒ‰é’®**ï¼š60-80px
- **å¿«æ·æ æŒ‰é’®**ï¼š50-70px

### é€æ˜åº¦è®¾ç½®
- **è§¦æ‘¸æ¿/é¼ æ ‡åŒºåŸŸ**ï¼š0.1-0.3 (é«˜é€æ˜)
- **å¸¸ç”¨æŒ‰é’®**ï¼š0.6-0.8
- **é‡è¦æŒ‰é’®**ï¼š0.8-1.0

### é¢œè‰²å»ºè®®
- **ç§»åŠ¨æ§ä»¶**ï¼šè“è‰²ç³»
- **æ”»å‡»æŒ‰é’®**ï¼šçº¢è‰²ç³»
- **åŠŸèƒ½æŒ‰é’®**ï¼šç»¿è‰²ç³»
- **èœå•æŒ‰é’®**ï¼šç°è‰²ç³»

## ğŸ“± æ¸¸æˆå†…ä½¿ç”¨

### å¯ç”¨æ§åˆ¶è¦†ç›–å±‚

```java
// åœ¨ GameActivity ä¸­
OverlayControlView overlayView = new OverlayControlView(this);
ControlLayoutManager layoutManager = new ControlLayoutManager(this);
overlayView.setControlLayout(layoutManager.getCurrentLayout());

// æ·»åŠ åˆ°è§†å›¾å±‚çº§
addContentView(overlayView, new ViewGroup.LayoutParams(
    ViewGroup.LayoutParams.MATCH_PARENT,
    ViewGroup.LayoutParams.MATCH_PARENT
));

// è®¾ç½®äº‹ä»¶ç›‘å¬
overlayView.setOnControlEventListener(new OverlayControlView.OnControlEventListener() {
    @Override
    public void onButtonDown(ControlElement element) {
        // å¤„ç†æŒ‰é’®æŒ‰ä¸‹
        int keyCode = element.getKeyCode();
        // å‘é€æŒ‰é”®äº‹ä»¶åˆ°æ¸¸æˆ
    }
    
    @Override
    public void onButtonUp(ControlElement element) {
        // å¤„ç†æŒ‰é’®é‡Šæ”¾
    }
    
    @Override
    public void onJoystickMove(ControlElement element, float deltaX, float deltaY) {
        // å¤„ç†æ‘‡æ†ç§»åŠ¨
        // deltaX, deltaY èŒƒå›´ï¼š-1 åˆ° 1
    }
    
    @Override
    public void onMouseMove(float deltaX, float deltaY) {
        // å¤„ç†é¼ æ ‡ç§»åŠ¨
    }
    
    @Override
    public void onMouseScroll(float deltaX, float deltaY) {
        // å¤„ç†é¼ æ ‡æ»šè½®
    }
});
```

## ğŸ”§ é«˜çº§åŠŸèƒ½

### å¸ƒå±€å¯¼å‡º/å¯¼å…¥

```java
ControlLayoutManager manager = new ControlLayoutManager(context);

// å¯¼å‡ºå¸ƒå±€
ControlLayout layout = manager.getCurrentLayout();
File exportDir = new File(Environment.getExternalStorageDirectory(), "æ§åˆ¶å¸ƒå±€");
File exportedFile = manager.exportLayout(layout, exportDir);

// å¯¼å…¥å¸ƒå±€
File layoutFile = new File(exportDir, "my_layout.json");
ControlLayout imported = manager.importLayout(layoutFile);
```

### å¸ƒå±€å¤åˆ¶

```java
ControlLayout original = manager.getLayoutByName("tModLoader é»˜è®¤");
ControlLayout copy = manager.duplicateLayout(original);
copy.setName("æˆ‘çš„ tModLoader å¸ƒå±€");
manager.saveLayout(copy);
```

### æ‰¹é‡ä¿®æ”¹å…ƒç´ 

```java
ControlLayout layout = manager.getCurrentLayout();

// è°ƒæ•´æ‰€æœ‰æŒ‰é’®çš„é€æ˜åº¦
for (ControlElement element : layout.getElements()) {
    if (element.getType() == ControlElement.ElementType.BUTTON) {
        element.setOpacity(0.8f);
    }
}

manager.saveLayout(layout);
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æµ‹è¯•æµç¨‹
1. å…ˆä½¿ç”¨é¢„è®¾å¸ƒå±€æ¸¸ç©
2. è®°å½•ä¸ä¾¿æ“ä½œçš„åœ°æ–¹
3. è¿›å…¥ç¼–è¾‘å™¨è°ƒæ•´
4. é‡æ–°æµ‹è¯•
5. è¿­ä»£ä¼˜åŒ–

### 2. è®¾å¤‡é€‚é…
- ä¸åŒå±å¹•å°ºå¯¸éœ€è¦ä¸åŒå¸ƒå±€
- ä½¿ç”¨ç›¸å¯¹åæ ‡è€Œéç»å¯¹åƒç´ 
- ä¸ºå¹³æ¿å’Œæ‰‹æœºåˆ†åˆ«ä¼˜åŒ–

### 3. æ¸¸æˆé€‚é…
- FPS æ¸¸æˆï¼šå¤§è§¦æ‘¸æ¿ + ç²¾å‡†æŒ‰é’®
- RPG æ¸¸æˆï¼šè™šæ‹Ÿåå­—é”® + å¤šå¿«æ·æ 
- å¹³å°æ¸¸æˆï¼šæ‘‡æ† + è·³è·ƒæŒ‰é’®ä¼˜å…ˆ

### 4. æ€§èƒ½ä¼˜åŒ–
- å‡å°‘ä¸å¿…è¦çš„å…ƒç´ 
- é™ä½ä¸é‡è¦æŒ‰é’®çš„æ›´æ–°é¢‘ç‡
- ä½¿ç”¨åˆé€‚çš„é€æ˜åº¦

## ğŸ› æ•…éšœæ’é™¤

### æ§åˆ¶ä¸å“åº”
- æ£€æŸ¥å…ƒç´ æ˜¯å¦è¢«é®æŒ¡
- ç¡®è®¤ `visibility` è®¾ç½®æ­£ç¡®
- éªŒè¯ `passthrough` æœªé”™è¯¯å¯ç”¨

### æ‘‡æ†æ¼‚ç§»
- å¢å¤§ `deadzone` å€¼ (æ¨è 0.15)
- è°ƒæ•´ `sensitivity`

### æŒ‰é’®ä½ç½®ä¸å¯¹
- ç¡®è®¤ä½¿ç”¨ç›¸å¯¹åæ ‡ (0-1)
- æ£€æŸ¥å…ƒç´  `width` å’Œ `height`
- éªŒè¯æ— æ—‹è½¬è§’åº¦å½±å“

## ğŸ“š API å‚è€ƒ

### ControlElement ä¸»è¦æ–¹æ³•

```java
// åˆ›å»ºå…ƒç´ 
ControlElement element = new ControlElement(
    "unique_id",
    ControlElement.ElementType.BUTTON,
    "Display Name"
);

// è®¾ç½®ä½ç½®å’Œå¤§å°
element.setX(0.5f);              // å±å¹•å®½åº¦çš„ 50%
element.setY(0.8f);              // å±å¹•é«˜åº¦çš„ 80%
element.setWidth(100);           // 100 åƒç´ 
element.setHeight(100);

// è®¾ç½®å¤–è§‚
element.setBackgroundColor(Color.argb(128, 100, 100, 100));
element.setBorderColor(Color.WHITE);
element.setOpacity(0.7f);

// è®¾ç½®é”®ä½
element.setKeyCode(KeyEvent.KEYCODE_SPACE);

// JSON åºåˆ—åŒ–
JSONObject json = element.toJSON();
ControlElement fromJson = ControlElement.fromJSON(json);
```

### ControlLayout ä¸»è¦æ–¹æ³•

```java
// åˆ›å»ºå¸ƒå±€
ControlLayout layout = new ControlLayout("My Layout");
layout.setDescription("é€‚åˆæ¨ªç‰ˆæ¸¸æˆ");
layout.setAuthor("æˆ‘çš„åå­—");

// æ·»åŠ å…ƒç´ 
layout.addElement(element);

// ä¿å­˜/åŠ è½½
File file = new File(context.getFilesDir(), "my_layout.json");
layout.saveToFile(file);
ControlLayout loaded = ControlLayout.fromFile(file);

// æŸ¥æ‰¾å…ƒç´ 
ControlElement found = layout.getElementById("unique_id");

// å¤åˆ¶å¸ƒå±€
ControlLayout copy = layout.copy("New Name");
```

## ğŸ”— ç›¸å…³èµ„æº

- [KeyEvent KeyCodes](https://developer.android.com/reference/android/view/KeyEvent)
- [PojavLauncher](https://github.com/PojavLauncherTeam/PojavLauncher)
- [FNA Wiki](https://github.com/FNA-XNA/FNA/wiki)

## ğŸ“ åé¦ˆå’Œæ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼š
- æäº¤ Issueï¼š[GitHub Issues](https://github.com/Fireworkshh/Rotating-art-Launcher/issues)
- åˆ†äº«å¸ƒå±€ï¼š[Discussions](https://github.com/Fireworkshh/Rotating-art-Launcher/discussions)

---

**äº«å—ä½ çš„æ¸¸æˆæ—¶å…‰ï¼** ğŸ®âœ¨

