====================================================================
SDL åŠ¨æ€æ¸²æŸ“å™¨åŠ è½½è¡¥ä¸
====================================================================

æ›¿æ¢ SDL_androidvideo.c ä¸­çš„ GL æŒ‡é’ˆè®¾ç½®éƒ¨åˆ†ï¼ˆç¬¬ 133-233 è¡Œï¼‰

åŸä»£ç ï¼šå¤§é‡çš„ #if defined... æ¡ä»¶ç¼–è¯‘

æ–°ä»£ç ï¼šä½¿ç”¨åŠ¨æ€åŠ è½½å™¨

--------------------------------------------------------------------

å°†ä»¥ä¸‹ä»£ç æ›¿æ¢ç¬¬ 133-233 è¡Œï¼ˆä» "/* GL pointers" åˆ° "#endif" ä¹‹å‰ï¼‰ï¼š

    /* ================================================================
     * ğŸ”¥ Dynamic Renderer Loading (lwjgl3 + PojavLauncher style)
     * ================================================================
     *
     * æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€åˆ‡æ¢æ¸²æŸ“å™¨ï¼Œæ— éœ€é‡æ–°ç¼–è¯‘
     *
     * ç¯å¢ƒå˜é‡ï¼š
     *   SDL_RENDERER æˆ– FNA3D_OPENGL_DRIVER
     *     - native: ç³»ç»Ÿé»˜è®¤ (libEGL.so + libGLESv2.so)
     *     - gl4es: OpenGL 2.1 ç¿»è¯‘å±‚
     *     - angle: OpenGL ES over Vulkan
     *     - zink: OpenGL over Vulkan
     *
     * å®ç°åŸç†ï¼š
     *   1. é€šè¿‡ dlopen(RTLD_GLOBAL) é¢„åŠ è½½æ¸²æŸ“å™¨åº“
     *   2. é€šè¿‡ LD_PRELOAD åŠ«æŒ SDL çš„ dlopen("libEGL.so")
     *   3. æ‰€æœ‰æ¸²æŸ“å™¨éƒ½æä¾›æ ‡å‡† EGL æ¥å£
     *   4. SDL æ— æ„ŸçŸ¥ï¼Œç›´æ¥ä½¿ç”¨ Android_GLES_* å‡½æ•°
     */

    /* ä»ç¯å¢ƒå˜é‡è¯»å–æ¸²æŸ“å™¨é…ç½® */
    const char* renderer_name = SDL_getenv("SDL_RENDERER");
    if (!renderer_name || renderer_name[0] == '\0') {
        renderer_name = SDL_getenv("FNA3D_OPENGL_DRIVER");
    }
    if (!renderer_name || renderer_name[0] == '\0') {
        renderer_name = "native";  /* é»˜è®¤ä½¿ç”¨ç³»ç»Ÿæ¸²æŸ“å™¨ */
    }

    /* åŠ¨æ€åŠ è½½æ¸²æŸ“å™¨ */
    if (!Android_LoadRenderer(renderer_name)) {
        SDL_LogWarn(SDL_LOG_CATEGORY_VIDEO,
                    "Failed to load renderer '%s', falling back to native",
                    renderer_name);
        Android_LoadRenderer("native");
    }

    /* è®¾ç½® GL å‡½æ•°æŒ‡é’ˆ */
    /* ç”±äºä½¿ç”¨ LD_PRELOADï¼Œæ‰€æœ‰æ¸²æŸ“å™¨éƒ½æä¾›æ ‡å‡† EGL æ¥å£ */
    if (!Android_SetupGLFunctions(device)) {
        SDL_LogError(SDL_LOG_CATEGORY_VIDEO, "Failed to setup GL functions");
        SDL_free(data);
        SDL_free(device);
        return NULL;
    }

    SDL_LogInfo(SDL_LOG_CATEGORY_VIDEO,
                "âœ… Renderer initialized: %s",
                Android_GetCurrentRenderer());

--------------------------------------------------------------------

å®Œæ•´ä¿®æ”¹æ­¥éª¤ï¼š

1. å¤‡ä»½åŸæ–‡ä»¶ï¼š
   cp SDL_androidvideo.c SDL_androidvideo.c.backup

2. åˆ é™¤ç¬¬ 133-233 è¡Œçš„æ‰€æœ‰ #if defined ä»£ç å—

3. æ’å…¥ä¸Šé¢çš„æ–°ä»£ç 

4. ä¿å­˜æ–‡ä»¶

====================================================================
